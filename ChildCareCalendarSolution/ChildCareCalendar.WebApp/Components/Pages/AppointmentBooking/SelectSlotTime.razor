<link href="css/AppointmentBooking/Slot.css" rel="stylesheet" />

<div class="slot-container">
    <h4 class="info-title">Vui lòng chọn khung giờ khám</h4>

    @if (MorningSlots.Any())
    {
        <h5>Buổi sáng</h5>
        <div class="slot-list">
            @foreach (var slot in MorningSlots)
            {
                <button class="slot-btn"
                        disabled="@IsSlotDisabled(slot)"
                        style="@(IsSlotDisabled(slot) ? "background-color:#dc3545; cursor:not-allowed; opacity:0.7;" : null)"
                        @onclick="() => HandleSlotSelection(slot)">
                    @(slot.WorkHour?.StartTime.ToString("hh\\:mm")) - @(slot.WorkHour?.EndTime.ToString("hh\\:mm"))
                </button>
            }
        </div>
    }

    @if (AfternoonSlots.Any())
    {
        <h5>Buổi chiều</h5>
        <div class="slot-list">
            @foreach (var slot in AfternoonSlots)
            {
                <button class="slot-btn"
                        disabled="@IsSlotDisabled(slot)"
                        style="@(IsSlotDisabled(slot) ? "background-color:#dc3545; cursor:not-allowed; opacity:0.7;" : null)"
                        @onclick="() => HandleSlotSelection(slot)">
                    @(slot.WorkHour?.StartTime.ToString("hh\\:mm")) - @(slot.WorkHour?.EndTime.ToString("hh\\:mm"))
                </button>
            }
        </div>
    }

    @if (!MorningSlots.Any() && !AfternoonSlots.Any())
    {
        <p>Không có khung giờ nào khả dụng cho ngày đã chọn.</p>
    }
</div>